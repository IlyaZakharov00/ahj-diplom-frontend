(()=>{"use strict";var e={128:(e,t,n)=>{n.d(t,{A:()=>g});var i=n(601),o=n.n(i),a=n(314),r=n.n(a),s=n(417),c=n.n(s),l=new URL(n(687),n.b),d=new URL(n(310),n.b),m=r()(o()),p=c()(l),u=c()(d);m.push([e.id,`@font-face {\n    font-family: "Oswald";\n    src: url(${p});\n}\n\n@font-face {\n    font-family: "Nunito";\n    src: url(${u});\n}`,""]);const g=m},254:(e,t,n)=>{n.d(t,{A:()=>M});var i=n(601),o=n.n(i),a=n(314),r=n.n(a),s=n(128),c=n(417),l=n.n(c),d=new URL(n(987),n.b),m=new URL(n(573),n.b),p=new URL(n(50),n.b),u=new URL(n(23),n.b),g=new URL(n(13),n.b),h=new URL(n(724),n.b),y=new URL(n(484),n.b),b=new URL(n(17),n.b),f=new URL(n(727),n.b),v=r()(o());v.i(s.A);var x=l()(d),L=l()(m),k=l()(p),E=l()(u),w=l()(g),C=l()(h),S=l()(y),q=l()(b),A=l()(f);v.push([e.id,`.btn {\n    background: none;\n    border: none;\n    cursor: pointer;\n    transition: opacity 100ms linear;\n    z-index: 1;\n}\n\n.btn:hover {\n    opacity: 0.5;\n}\n\n.btn:active {\n    opacity: 0.3;\n}\n\n.add-mesage {\n    background: url(${x});\n    background-size: cover;\n    background-repeat: no-repeat;\n    border: none;\n}\n\n.add-video {\n    background: url(${L});\n    background-size: cover;\n    background-repeat: no-repeat;\n    border: none;\n}\n\n.add-audio {\n    background: url(${k});\n    background-size: cover;\n    background-repeat: no-repeat;\n    border: none;\n}\n\n.list-msg {\n    padding: 20px 0;\n    width: 50%;\n    list-style: none;\n    margin: auto;\n    margin-top: 20px;\n    margin-left: 50%;\n}\n\n.msg {\n    word-break: break-word;\n    width: 70%;\n    min-height: 50px;\n    margin: auto;\n    padding: 20px;\n    background-color: white;\n    margin-top: 10px;\n    border-radius: 20px;\n    background-color: #9c1ec9;\n    border: 2px solid white;\n    box-shadow: 20px 5px 15px white;\n}\n\n.element-header {\n    font-size: 17px;\n    font-family: "Nunito";\n    text-align: right;\n    color: white;\n    margin-bottom: 15px;\n}\n\n.element-content-container {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.element-content {\n    color: white;\n    font-size: 17px;\n    font-family: "Nunito";\n}\n\n.element-content-file:hover {\n    text-decoration: underline;\n    cursor: pointer;\n}\n\n.element-save-content {\n    background-image: url(${E});\n    background-repeat: no-repeat;\n    background-size: cover;\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n}\n\n.element-link {\n    text-decoration: none;\n}\n\n.element-link:hover {\n    text-decoration: underline black;\n}\n\n.element-footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 15px;\n}\n\n.element-geolocation {\n    display: inline-block;\n    font-size: 17px;\n    font-family: "Nunito";\n    color: white;\n}\n\n.element-date {\n    margin-right: 10px;\n}\n\n.element-delete {\n    display: inline-block;\n    background-image: url(${w});\n    background-size: cover;\n    width: 40px;\n    height: 40px;\n    transition: background-image 1s;\n    transition: transform 500ms;\n}\n\n.element-delete:hover {\n    background-image: url(${C});\n    background-size: cover;\n    display: inline-block;\n    width: 40px;\n    height: 40px;\n    transform: rotate(360deg);\n    transition: background-image 1s;\n    transition: transform 500ms;\n    opacity: 0.5;\n    cursor: pointer;\n}\n\n.form-error {\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n\n    border-radius: 10px;\n    width: 380px;\n    height: 180px;\n    padding: 15px;\n\n    background-color: white;\n    border: 1px solid;\n\n    opacity: 1;\n    transition-property: all;\n    transition-duration: 100ms;\n    transition-timing-function: ease-in-out;\n\n    z-index: 3;\n}\n\n.form-error-title {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    margin-bottom: 15px;\n}\n\n.error-description {\n    text-align: justify;\n    margin-bottom: 15px;\n}\n\n.title-error {\n    text-align: center;\n    font-size: 24px;\n    font-weight: bold;\n}\n\n.form-close {\n    content: "";\n    background-image: url(${S});\n    background-size: cover;\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n}\n\n.textarea-form-error {\n    width: 100%;\n    min-height: 25px;\n    border: 1px solid;\n    padding: 5px;\n    resize: none;\n}\n\n.btn-send-coords {\n    font-size: 20px;\n    width: 100%;\n    border: 0;\n    border-radius: 5px;\n    background: #4676D7;\n    color: #fff;\n    padding: 8px 16px;\n    font-size: 16px;\n    margin-top: 20px;\n    cursor: pointer;\n}\n\n.check-mark {\n    background: url(${q});\n    background-size: cover;\n    background-repeat: no-repeat;\n    border: none;\n    z-index: 2;\n    transition: transform 1s;\n}\n\n.check-mark:hover {\n    transform: rotate(360deg);\n    background-size: cover;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    transition: transform 1s;\n}\n\n.cross {\n    background: url(${A});\n    background-size: cover;\n    background-repeat: no-repeat;\n    border: none;\n    z-index: 2;\n    transition: transform 1s;\n}\n\n.cross:hover {\n    transform: rotate(360deg);\n    background-size: cover;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    transition: transform 1s;\n}\n\n.timer {\n    margin-right: 10px;\n    background-color: white;\n}\n\n.video {\n    display: block;\n    width: 330px;\n    height: 250px;\n    margin: auto;\n}`,""]);const M=v},16:(e,t,n)=>{n.d(t,{A:()=>V});var i=n(601),o=n.n(i),a=n(314),r=n.n(a),s=n(128),c=n(254),l=n(417),d=n.n(l),m=new URL(n(644),n.b),p=new URL(n(532),n.b),u=new URL(n(145),n.b),g=new URL(n(508),n.b),h=new URL(n(549),n.b),y=new URL(n(484),n.b),b=new URL(n(946),n.b),f=new URL(n(323),n.b),v=new URL(n(432),n.b),x=new URL(n(444),n.b),L=new URL(n(152),n.b),k=new URL(n(333),n.b),E=new URL(n(553),n.b),w=new URL(n(252),n.b),C=new URL(n(337),n.b),S=r()(o());S.i(s.A),S.i(c.A);var q=d()(m),A=d()(p),M=d()(u),$=d()(g),U=d()(h),j=d()(y),R=d()(b),T=d()(f),z=d()(v),O=d()(x),I=d()(L),N=d()(k),F=d()(E),D=d()(w),B=d()(C);S.push([e.id,`* {\n    margin: 0;\n    padding: 0;\n}\n\n.no-click-element {\n    height: 100vh;\n    width: 100%;\n    position: absolute;\n    z-index: 5;\n}\n\n/*HEADER*/\n\n.chat-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border: 1px solid black;\n    padding: 15px;\n}\n\n.profile {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.profile-photo {\n    background-image: url(${q});\n    background-size: cover;\n    background-repeat: no-repeat;\n    width: 40px;\n    height: 40px;\n    margin-right: 20px;\n}\n\n.profile-name {\n    font-size: 20px;\n    font-family: "Oswald";\n}\n\n.time-was-online {\n    font-family: "Nunito";\n}\n\n.connection-to-server {\n    animation-name: connection-animation;\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-direction: alternate;\n\n    content: '';\n    margin-left: 10px;\n    width: 20px;\n    height: 20px;\n    border-radius: 20px;\n    background-color: red;\n}\n\n.connection-to-server-result {\n    font-size: 15px;\n    font-family: "Nunito";\n    margin-left: 20px;\n}\n\n@keyframes connection-animation {\n\n    from {\n        opacity: 1;\n    }\n\n    25% {\n        opacity: 0.8;\n    }\n\n    50% {\n        opacity: 0.6;\n    }\n\n    75% {\n        opacity: 0.4;\n    }\n\n    100% {\n        opacity: 0.2;\n    }\n\n    to {\n        opacity: 0;\n    }\n}\n\n.interaction-menu {\n    position: relative;\n}\n\n.icon {\n    position: relative;\n    display: inline-block;\n    width: 40px;\n    height: 40px;\n    background-size: 287px;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-repeat: no-repeat;\n    cursor: pointer;\n}\n\n.interaction-menu>.icon {\n    margin-right: 20px;\n    cursor: pointer;\n}\n\n.search {\n    background-image: url(${A});\n    transition: background-image 90ms;\n}\n\n.search:hover {\n    background-image: url(${M});\n    transition: background-image 90ms;\n}\n\n.menu {\n    position: relative;\n    background-image: url(${$});\n    transition: background-image 90ms;\n}\n\n.menu:hover {\n    background-image: url(${U});\n    transition: background-image 90ms;\n}\n\n.container-menu {\n    min-width: 210px;\n    position: absolute;\n    right: 0;\n    top: 0;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n    border: 1px solid;\n    border-radius: 20px;\n    visibility: hidden;\n    opacity: 0;\n    transition: opacity 500ms;\n    z-index: 1;\n}\n\n.menu-items {\n    margin-top: 35px;\n    text-align: center;\n}\n\n.menu-item {\n    padding: 0 13px;\n    font-size: 17px;\n    font-family: "Nunito";\n    text-align: center;\n    margin-bottom: 20px;\n    cursor: pointer;\n}\n\n.menu-item:hover {\n    opacity: 0.5;\n}\n\n.close-menu {\n    background-image: url(${j});\n    width: 30px;\n    height: 30px;\n    background-size: cover;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    position: absolute;\n    top: 5px;\n    right: 5px;\n}\n\n.close-menu:hover {\n    opacity: 0.5;\n}\n\n\n/*HEADER*/\n\n/*MAIN*/\n\n.main {\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.chat {\n    display: flex;\n    flex-direction: column;\n    width: 75%;\n    min-height: 650px;\n    margin: auto;\n    border: 1px solid black;\n    margin-top: 20px;\n}\n\n.chat-main {\n    position: relative;\n    width: 100%;\n    height: 520px;\n    background-color: rgba(217, 102, 255, 0.75);\n    border: 1px solid black;\n    overflow-y: scroll;\n}\n\n.chat-main::-webkit-scrollbar {\n    width: 15px;\n}\n\n.chat-main::-webkit-scrollbar-track {\n    background: rgba(217, 102, 255, 0.75);\n}\n\n.chat-main::-webkit-scrollbar-thumb {\n    background-color: black;\n    border-radius: 20px;\n}\n\n.all-messages {\n    padding-top: 50px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n    border: 1px solid;\n    border-radius: 20px;\n    visibility: hidden;\n    opacity: 0;\n    transition: opacity 500ms;\n    z-index: 1;\n    width: 220px;\n    transform: translate(-50%, -50%);\n}\n\n.close-all-messages {\n    background-image: url(${j});\n    width: 30px;\n    height: 30px;\n    background-size: cover;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    position: absolute;\n    top: 10px;\n    right: 5px;\n    transition: transform 1s;\n}\n\n.close-all-messages:hover {\n    transform: rotate(180deg);\n    transition: transform 1s;\n    opacity: 0.5;\n}\n\n.type-message {\n    color: white;\n    display: block;\n    padding: 0 13px;\n    font-size: 17px;\n    font-family: "Nunito";\n    text-align: center;\n    margin-bottom: 20px;\n    cursor: pointer;\n    width: 80%;\n    background-color: #2b9ec8;\n    padding: 10px;\n    border-radius: 10px;\n}\n\n.type-message:hover {\n    opacity: 0.5;\n}\n\n/*MAIN*/\n\n/*FOOTER*/\n.chat-footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 10%;\n    border: 1px solid black;\n    padding: 0px 30px;\n}\n\n.form-send-file {\n    display: flex;\n    justify-content: center;\n    width: 45px;\n    padding: 5px;\n    transition: width 1s;\n}\n\n.form-send-file-loaded {\n    width: 200px;\n    justify-content: space-between;\n    transition: width 1s;\n}\n\n.send-file {\n    background-image: url(${R});\n    background-size: cover;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    transition: background-image 90ms;\n    transition: transform 250ms;\n}\n\n.send-file:hover {\n    transform: rotate(180deg);\n    background-size: cover;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    transition: transform 250ms;\n}\n\n.send-file-sticker {\n\n    /* content: ''; */\n    display: block;\n    width: 18px;\n    height: 18px;\n    text-align: center;\n    font-size: 16px;\n    color: white;\n    background-color: #0000ff9c;\n    border-radius: 10px;\n    margin-left: -10px;\n    visibility: hidden;\n}\n\n.sticker-animation {\n    animation-name: sticker-animation;\n    animation-duration: 1s;\n    transition: ease-out;\n    position: absolute;\n    top: 20px;\n    left: 45px;\n    width: 18px;\n    height: 18px;\n    border-radius: 10px;\n    content: "";\n    background-repeat: no-repeat;\n    object-fit: cover;\n}\n\n@keyframes sticker-animation {\n\n    from {\n        top: -20px;\n        left: 45px;\n        opacity: 1;\n    }\n\n    25% {\n        top: -40px;\n        left: 45px;\n        opacity: 0.8;\n    }\n\n    50% {\n        top: -53px;\n        left: 0px;\n        opacity: 0.6;\n    }\n\n    75% {\n        top: -126px;\n        left: 85px;\n        opacity: 0.4;\n    }\n\n\n    100% {\n        top: -180px;\n        left: 5px;\n        opacity: 0.2;\n\n    }\n\n    to {\n        top: -200px;\n        left: 45px;\n        opacity: 0;\n    }\n}\n\n.form-btn-submit {\n    font-size: 14px;\n    font-family: "Nunito";\n    text-align: center;\n    border-radius: 10px;\n    border: none;\n    background-color: purple;\n    color: white;\n    cursor: pointer;\n    /* display: none; */\n    width: 0px;\n    transition: width 1s;\n}\n\n.form-btn-submit-loaded {\n    display: block;\n    width: 120px;\n    transition: width 1s;\n}\n\n.form-btn-submit:hover {\n    opacity: 0.5;\n}\n\n.write-message {\n    display: flex;\n    width: 75%;\n    height: 70px;\n    padding: 0 20px;\n    font-size: 20px;\n    border: none;\n    resize: none;\n    font-family: "Oswald";\n    letter-spacing: 5px;\n    line-height: 65px;\n    outline: none;\n}\n\n.write-message-input {\n    position: absolute;\n    left: 290px;\n    width: 840px;\n    height: 70px;\n    opacity: 0;\n    cursor: text;\n    /* visibility: hidden; */\n}\n\n\n.interactive-message>.icon {\n    margin-right: 10px;\n    background-size: cover;\n    background-repeat: no-repeat;\n    cursor: pointer;\n}\n\n.interactive-message {\n    display: flex;\n    position: relative;\n    justify-content: center;\n    align-content: center;\n    align-items: center;\n}\n\n.send-smile {\n    background-image: url(${T});\n    transition: background-image 90ms;\n}\n\n.smile-container {\n    position: absolute;\n    top: -165%;\n    left: 20%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    text-align: center;\n    width: 160px;\n    background-color: white;\n    border: 1px solid;\n    visibility: hidden;\n    opacity: 0;\n    transition: opacity 200ms;\n}\n\n.emoji {\n    width: 40px;\n    cursor: pointer;\n}\n\n.emoji:hover {\n    opacity: 0.5;\n}\n\n.send-smile:hover {\n    background-image: url(${z});\n    transition: background-image 90ms;\n}\n\n/* .input-file {\n    display: none;\n} */\n\n.send_,\n.timer_,\n.stop_ {\n    visibility: hidden;\n    display: none;\n}\n\n.send-voice-message {\n    background-image: url(${O});\n    transition: background-image 100ms;\n}\n\n.send-voice-message:hover {\n    background-image: url(${I});\n    transition: background-image 100ms;\n}\n\n.send-video {\n    background-image: url(${N});\n    transition: background-image 90ms;\n}\n\n.send-video:hover {\n    background-image: url(${F});\n    transition: background-image 90ms;\n}\n\n.send-text-message {\n    background-image: url(${D});\n    transition: background-image 250ms;\n}\n\n.send-text-message:hover {\n    background-image: url(${B});\n    transition: background-image 100ms;\n}\n\n/*FOOTER*/`,""]);const V=S},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(i)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(r[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);i&&r[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var a={},r=[],s=0;s<e.length;s++){var c=e[s],l=i.base?c[0]+i.base:c[0],d=a[l]||0,m="".concat(l," ").concat(d);a[l]=d+1;var p=n(m),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(u);else{var g=o(u,i);i.byIndex=s,t.splice(s,0,{identifier:m,updater:g,references:1})}r.push(m)}return r}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=i(e=e||[],o=o||{});return function(e){e=e||[];for(var r=0;r<a.length;r++){var s=n(a[r]);t[s].references--}for(var c=i(e,o),l=0;l<a.length;l++){var d=n(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=c}}},659:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},310:(e,t,n)=>{e.exports=n.p+"9d7a6e03c6e3ed49c7ac.ttf"},687:(e,t,n)=>{e.exports=n.p+"31bce04a1ae8549b1464.ttf"},17:(e,t,n)=>{e.exports=n.p+"59d1508359e84c235381.png"},946:(e,t,n)=>{e.exports=n.p+"1ce750e007a625ae06ed.svg"},484:(e,t,n)=>{e.exports=n.p+"15eb07f1af2966fd019d.svg"},727:(e,t,n)=>{e.exports=n.p+"71c6ac26065f7ca500be.png"},724:(e,t,n)=>{e.exports=n.p+"17509ad18308153ba787.svg"},13:(e,t,n)=>{e.exports=n.p+"2e06ab9476c3608118a0.svg"},432:(e,t,n)=>{e.exports=n.p+"4956a07feec8d4e2ec25.svg"},323:(e,t,n)=>{e.exports=n.p+"709a6ac6f69643f8fd12.svg"},508:(e,t,n)=>{e.exports=n.p+"096ae4718d76fd16c836.svg"},549:(e,t,n)=>{e.exports=n.p+"e2522ca22ef77e961572.svg"},444:(e,t,n)=>{e.exports=n.p+"818b11006f53311a5d57.svg"},152:(e,t,n)=>{e.exports=n.p+"a6f07f99a4e6eef6812b.svg"},644:(e,t,n)=>{e.exports=n.p+"11b5aa124c0609ce19b7.svg"},23:(e,t,n)=>{e.exports=n.p+"3bd7c3a1b74e2de46e05.svg"},145:(e,t,n)=>{e.exports=n.p+"1c751e03da2451211b1e.svg"},532:(e,t,n)=>{e.exports=n.p+"25ebdd29174c4d609bbf.svg"},50:(e,t,n)=>{e.exports=n.p+"1ff037d5b250fd09a416.png"},337:(e,t,n)=>{e.exports=n.p+"86433a8e2208fbf8e7f7.svg"},987:(e,t,n)=>{e.exports=n.p+"aa781e00805b6515669d.png"},252:(e,t,n)=>{e.exports=n.p+"d2668a915b3d9b349ea3.svg"},573:(e,t,n)=>{e.exports=n.p+"7fb939f246bc372bfb9a.png"},333:(e,t,n)=>{e.exports=n.p+"44b86d3c6bece111ad24.svg"},553:(e,t,n)=>{e.exports=n.p+"1680815031e6f85c4fa8.svg"}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={id:i,exports:{}};return e[i](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var o=i.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=i[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e=n(72),t=n.n(e),i=n(825),o=n.n(i),a=n(659),r=n.n(a),s=n(56),c=n.n(s),l=n(540),d=n.n(l),m=n(113),p=n.n(m),u=n(16),g={};g.styleTagTransform=p(),g.setAttributes=c(),g.insert=r().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d(),t()(u.A,g),u.A&&u.A.locals&&u.A.locals;class h{constructor(e){this.coords=e}createtUlList(){let e=document.querySelector(".messages-container"),t=document.querySelector(".chat-main");e||(e=document.createElement("ul")),e.classList.add("list-msg"),t.appendChild(e)}createMsg(e){let t=document.querySelector(".list-msg"),n=document.createElement("li"),i=document.createElement("div"),o=document.createElement("span"),a=document.createElement("span"),r=document.createElement("p"),s=document.createElement("div"),c=document.createElement("span"),l=document.createElement("span");return n.setAttribute("type","txt"),n.setAttribute("id",this.createId()),n.classList.add("msg"),i.classList.add("element-header"),o.classList.add("element-date"),a.classList.add("element-time"),r.classList.add("element-content"),s.classList.add("element-footer"),c.classList.add("element-geolocation"),l.classList.add("element-delete"),r.textContent=e,c.textContent=`[${this.coords[0]}, ${this.coords[1]}]`,i.appendChild(o),i.appendChild(a),n.appendChild(i),n.appendChild(r),s.appendChild(c),s.appendChild(l),n.appendChild(s),t.append(n),n}createLink(e){let t=document.querySelector(".list-msg"),n=document.createElement("li"),i=document.createElement("div"),o=document.createElement("span"),a=document.createElement("span"),r=document.createElement("a"),s=document.createElement("p"),c=document.createElement("div"),l=document.createElement("span"),d=document.createElement("span");return n.setAttribute("type","link"),n.setAttribute("id",this.createId()),r.setAttribute("href",e),n.classList.add("msg"),i.classList.add("element-header"),o.classList.add("element-date"),a.classList.add("element-time"),r.classList.add("element-link"),s.classList.add("element-content"),c.classList.add("element-footer"),l.classList.add("element-geolocation"),d.classList.add("element-delete"),s.textContent=e,l.textContent=`[${this.coords[0]}, ${this.coords[1]}]`,i.appendChild(o),i.appendChild(a),n.appendChild(i),n.appendChild(r),r.appendChild(s),c.appendChild(l),c.appendChild(d),n.appendChild(c),t.append(n),n}createFile(e,t){let n=document.querySelector(".list-msg"),i=document.createElement("li"),o=document.createElement("div"),a=document.createElement("span"),r=document.createElement("span"),s=document.createElement("div"),c=document.createElement("a"),l=document.createElement("p"),d=document.createElement("div"),m=document.createElement("span"),p=document.createElement("span");return i.setAttribute("type","file"),i.setAttribute("id",this.createId()),c.setAttribute("href",t),c.download=e.name,i.classList.add("msg"),o.classList.add("element-header"),a.classList.add("element-date"),r.classList.add("element-time"),s.classList.add("element-content-container"),c.classList.add("element-content"),l.classList.add("element-save-content"),d.classList.add("element-footer"),m.classList.add("element-geolocation"),p.classList.add("element-delete"),c.textContent=e.name,m.textContent=`[${this.coords[0]}, ${this.coords[1]}]`,o.appendChild(a),o.appendChild(r),s.appendChild(c),s.appendChild(l),d.appendChild(m),d.appendChild(p),i.appendChild(o),i.appendChild(s),i.appendChild(d),n.append(i),i}createVideo(e){let t=document.querySelector(".list-msg"),n=document.createElement("li"),i=document.createElement("video"),o=document.createElement("div"),a=document.createElement("span"),r=document.createElement("span"),s=document.createElement("p"),c=document.createElement("div"),l=document.createElement("span"),d=document.createElement("span");return n.setAttribute("type","video"),n.setAttribute("id",this.createId()),n.classList.add("msg"),i.classList.add("video"),i.controls=!0,o.classList.add("element-header"),a.classList.add("element-date"),r.classList.add("element-time"),s.classList.add("element-content"),c.classList.add("element-footer"),l.classList.add("element-geolocation"),d.classList.add("element-delete"),s.textContent=e,l.textContent=`[${this.coords[0]}, ${this.coords[1]}]`,o.appendChild(a),o.appendChild(r),n.appendChild(o),n.appendChild(i),c.appendChild(l),c.appendChild(d),n.appendChild(c),t.append(n),n}createAudio(e){let t=document.querySelector(".list-msg"),n=document.createElement("li"),i=document.createElement("audio"),o=document.createElement("div"),a=document.createElement("span"),r=document.createElement("span"),s=document.createElement("p"),c=document.createElement("div"),l=document.createElement("span"),d=document.createElement("span");return n.setAttribute("type","audio"),n.setAttribute("id",this.createId()),n.classList.add("msg"),i.classList.add("audio"),i.controls=!0,o.classList.add("element-header"),a.classList.add("element-date"),r.classList.add("element-time"),s.classList.add("element-content"),c.classList.add("element-footer"),l.classList.add("element-geolocation"),d.classList.add("element-delete"),s.textContent=e,l.textContent=`[${this.coords[0]}, ${this.coords[1]}]`,o.appendChild(a),o.appendChild(r),n.appendChild(o),n.appendChild(i),c.appendChild(l),c.appendChild(d),n.appendChild(c),t.append(n),n}createAttribute(e){let t=e.querySelector(".element-date"),n=e.querySelector(".element-time"),i=new Date,o=i.getFullYear(),a=i.getMonth()+1,r=i.getDate(),s=i.getHours(),c=i.getMinutes(),l=i.getSeconds();1==String(a).length&&(a="0"+a),1==String(r).length&&(a="0"+r),1==String(s).length&&(s="0"+s),1==String(c).length&&(c="0"+c),1==String(l).length&&(l="0"+l),t.textContent=r+"."+a+"."+o,n.textContent=s+":"+c+":"+l}createId=()=>Math.random().toString(36).slice(2)}let y="https://ahj-diplom-backend.onrender.com";const b=async e=>{const t={id:e.getAttribute("id"),type:e.getAttribute("type"),date:e.querySelector(".element-date").textContent,time:e.querySelector(".element-time").textContent,content:e.querySelector(".element-content").textContent,coords:e.querySelector(".element-geolocation").textContent};let n=y+"/sendMessage";const i=JSON.stringify(t),o=await fetch(n,{headers:{"Content-Type":"application/json"},method:"POST",body:i});console.log(o)},f=async e=>{let t,n,i=y+"/delete",o=e.target.closest(".msg"),a=o.querySelector(".element-content"),r=o.getAttribute("type"),s=o.querySelector(".audio"),c=o.querySelector(".video");s?t=".mp3":c&&(t=".mp4"),["txt","link","audio","video"].includes(r)?n="":"file"==r&&(n=a.textContent);let l={id:o.id,nameFile:n,format:t},d=JSON.stringify(l);const m=await fetch(i,{headers:{"Content-Type":"application/json"},method:"DELETE",body:d});o.remove(),console.log(m)},v=async(e,t)=>{let n,i=e.getAttribute("id"),o=e.getAttribute("type"),a=e.querySelector(".element-date").textContent,r=e.querySelector(".element-time").textContent,s=e.querySelector(".element-geolocation").textContent,c=e.querySelector(".audio"),l=e.querySelector(".video");c?n=".mp3":l&&(n=".mp4");let d=new File([t],`${i}`,{type:n});const m=new FormData;m.append("file",d);const p={id:i,type:o,date:a,time:r,coords:s,format:n},u=JSON.stringify(p);m.append("data",u);let g=y+"/sendMediaMessage";const h=await fetch(g,{method:"POST",body:m});return console.log(h),h},x=async e=>{let t=e.target.closest(".msg"),n=t.querySelector(".element-content");console.log(e.target);let i=t.getAttribute("id"),o=y+`/downloadFile?id=${i}`;const a=await fetch(o,{headers:{"Content-Type":"application/json"},method:"GET"}).then((e=>e.blob()));let r=URL.createObjectURL(a);return n.setAttribute("href",r),n.download=n.textContent,n.removeEventListener("click",x),n.click(),console.log(a),a},L=async e=>{let t,n=e.target.closest(".msg"),i=n.querySelector(".audio"),o=n.querySelector(".video");t=i||o,t=o||i;let a=n.getAttribute("id"),r=y+`/downloadMediaMessage?id=${a}`;console.log("ждем ответ сервера ");const s=await fetch(r,{headers:{"Content-Type":"application/json"},method:"GET"}).then((e=>(console.log("получили ответ"),e.blob())));console.log("создаем ссылку");let c=URL.createObjectURL(s);return t.setAttribute("src",c),console.log("поставили src"),console.log(s),s},k=e=>{if(console.log("loadfile "+e),0==e.srcElement.files.length)return;let t=document.getElementById("write-message-input"),n=document.querySelector(".form-send-file"),i=document.querySelector(".send-file-sticker"),o=document.querySelector(".form-btn-submit");n.classList.add("form-send-file-loaded"),o.classList.add("form-btn-submit-loaded"),i.style.visibility="visible",t.style.display="none",i.textContent++},E=e=>{let t=e.dataTransfer.files[0].name,n=(e.dataTransfer.files[0].type,document.getElementById("img-input")),i=document.getElementById("write-message-input"),o=new DataTransfer,a=new File([e.dataTransfer.files[0]],`${t}`),r=new Event("change");o.items.add(a),n.files=o.files,n.dispatchEvent(r),i.style.display="none"},w=e=>{if(![e].join("").includes(","))return void alert("Не правильно введены координаты!");let t=e.split(","),n=[];for(const e of t){let t=e.replaceAll(" ","").replaceAll("[","").replaceAll("]","");n.push(t)}return console.log(n),n};let C,S,q,A,M,$,U,j,R,T,z=document.querySelector(".send-voice-message"),O=document.querySelector(".send-video"),I=document.querySelector(".send-smile"),N=document.querySelector(".send_"),F=document.querySelector(".timer_"),D=document.querySelector(".stop_");const B=async function(){return new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition((t=>{const{latitude:n,longitude:i}=t.coords;C=[n,i],e(C)}),(async function(){V();let t=document.querySelector(".form-error"),n=document.querySelector(".btn-send-coords"),i=document.querySelector(".form-close"),o=document.querySelector(".textarea-form-error");i.addEventListener("click",(async()=>{alert("Введите координаты!")})),n.addEventListener("click",(async n=>{n.preventDefault();let i=await o.value;if(console.log("данные получили"),!i||" "==i||"\n"==i)return console.log("Координат нет!"),void alert("Координат нет!");w(i)&&(i=w(i),C=i,e(C),t.remove(),console.log("данные коректные"))}))}))}))},V=()=>{document.body.insertAdjacentHTML("afterbegin",' <form class="form-error">\n              <div class="form-error-title">\n                  <div class="title-error">Что то пошло не так :(</div>\n                  <div class="form-close"></div>\n              </div>\n              <div class="error-description">К сожалению, нам не удалось опрделить ваше местоположение.\n              Пожалуйста, дайте разрешение на использование геолокации, либо введите координаты вручную.\n              Широта и долгота через запятую.\n              </div>\n              <textarea class="textarea-form-error" placeholder="Ваши координаты"></textarea>\n              <button class="btn-send-coords">Отправить</button>\n          </form>')},_=async function(e){if(e instanceof KeyboardEvent){if("Enter"!==e.key)return;e.preventDefault()}C||await B();let t=document.querySelector(".write-message"),n=document.querySelector(".send-text-message"),i=t.value;if(""==i||i.match(/^ /g))return;if(i.toString().match(/^http.{0,}/g)){let e=new h(C);e.createtUlList();let o=e.createLink(i);return e.createAttribute(o),o.querySelector(".element-delete").addEventListener("click",f),t.value="",n.addEventListener("click",P),n.removeEventListener("click",_),n.classList.remove("send-text-message"),n.classList.add("send-voice-message"),void b(o)}let o=new h(C);o.createtUlList();let a=o.createMsg(i);o.createAttribute(a),a.querySelector(".element-delete").addEventListener("click",f),t.value="",n.addEventListener("click",P),n.removeEventListener("click",_),n.classList.remove("send-text-message"),n.classList.add("send-voice-message"),b(a)},P=async e=>{C||await B(),await async function(){try{j=await navigator.mediaDevices.getUserMedia({audio:!0}),U=new h(C),U.createtUlList();let e=U.createAudio(),t=e.querySelector(".audio");t.classList.add("recording"),U.createAttribute(e),M=new MediaRecorder(j);const n=[];M.start(),M.addEventListener("start",(()=>{console.log("start")})),M.addEventListener("dataavailable",(e=>{n.push(e.data)})),M.addEventListener("stop",(e=>{const i=new Blob(n);t.src=URL.createObjectURL(i),T=URL.createObjectURL(i),R&&v(t.parentElement,i)})),q=!0}catch(e){console.log(e),alert("Предоставьте доступ к микрофону, чтобы записывать аудио-сообщения!")}}(),q&&(X(),document.querySelector(".recording").parentElement.querySelector(".element-delete").style.display="none",N.addEventListener("click",H),D.addEventListener("click",J),Y())},H=async function(){console.log("send audio"),Z(),M.stop(),j.getTracks().forEach((e=>e.stop()));let e=document.querySelector(".recording"),t=e.parentElement.querySelector(".element-delete");t.style.display="block",e.classList.remove("recording"),N.removeEventListener("click",H),D.removeEventListener("click",J),t.addEventListener("click",f),R=!0,W()},J=async function(){console.log("delete audio"),M.stop(),j.getTracks().forEach((e=>e.stop()));let e=document.querySelector(".recording");e.parentNode.remove(),e.remove(),N.removeEventListener("click",H),D.removeEventListener("click",J),R=!1,Z(),W()},G=async()=>{C||await B(),await async function(){try{j=await navigator.mediaDevices.getUserMedia({video:!0}),$=new h(C),$.createtUlList();let e=$.createVideo(),t=e.querySelector(".video");t.classList.add("recording"),$.createAttribute(e),M=new MediaRecorder(j);const n=[];M.start(),M.addEventListener("start",(()=>{console.log("start")})),M.addEventListener("dataavailable",(e=>{n.push(e.data)})),M.addEventListener("stop",(()=>{const e=new Blob(n);t.src=URL.createObjectURL(e),T=URL.createObjectURL(e),R&&v(t.parentElement,e)})),S=!0}catch(e){console.log(e),alert("Предоставьте доступ к камере, чтобы записывать видео-сообщения!")}}(),S&&(X(),document.querySelector(".recording").parentElement.querySelector(".element-delete").style.display="none",N.addEventListener("click",K),D.addEventListener("click",Q),Y())},K=async function(){console.log("send video"),Z(),M.stop(),j.getTracks().forEach((e=>e.stop()));let e=document.querySelector(".recording"),t=e.parentElement.querySelector(".element-delete");t.style.display="block",e.classList.remove("recording"),N.removeEventListener("click",K),D.removeEventListener("click",Q),t.addEventListener("click",f),R=!0,W()},Q=async function(e){console.log("delete video"),M.stop(),j.getTracks().forEach((e=>e.stop()));let t=document.querySelector(".recording");t.parentNode.remove(),t.remove(),N.removeEventListener("click",K),D.removeEventListener("click",Q),R=!1,Z(),W()},Y=()=>{let e=document.querySelector(".timer"),t=0,n=0;e.textContent=`0${t}:0${n}`,A=setInterval((()=>{e.textContent=`${t}:${n++}`,1==String(n).length&&1==String(t).length?e.textContent=`0${t}:0${n}`:String(n).length>1&&1==String(t).length?e.textContent=`0${t}:${n}`:1==String(n).length&&String(t).length>1?e.textContent=`${t}:0${n}`:String(n).length>1&&String(t).length>1&&(e.textContent=`${t}:${n}`),n>59&&(n="00",t+=1,1==String(t).length?e.textContent=`0${t}:${n}`:e.textContent=`${t}:${n}`)}),1e3)},W=()=>{clearInterval(A),F.classList.remove("timer"),F.textContent=""},X=()=>{z.style.display="none",O.style.display="none",I.style.display="none",N.classList.add("check-mark"),N.classList.add("icon"),D.classList.add("cross"),D.classList.add("icon"),F.classList.add("timer"),N.style.display="inline-block",D.style.display="inline-block",F.style.display="inline-block",N.style.visibility="visible",D.style.visibility="visible",F.style.visibility="visible"},Z=()=>{z.style.display="inline-block",O.style.display="inline-block",I.style.display="inline-block",N.classList.remove("check-mark"),N.classList.remove("icon"),D.classList.remove("cross"),D.classList.remove("icon"),F.classList.remove("timer"),N.style.display="none",D.style.display="none",F.style.display="none",N.style.visibility="hidden",D.style.visibility="hidden",F.style.visibility="hidden"},ee=e=>{e.target.parentElement.closest(".msg").querySelector(".element-content").click()};class te{constructor(e,t,n,i,o,a,r){this.containerMenu=e,this.allMessages=t,this.iconSendVoiceMessage=n,this.iconSendVideoMessage=i,this.smileMenu=o,this.timer=a,this.textArea=r}headerMenuVisible=()=>{this.containerMenu.style.visibility="visible",this.containerMenu.style.opacity="1"};headerMenuHidden=()=>{this.containerMenu.style.opacity="0",this.containerMenu.style.visibility="hidden"};showAllMessagesBlock=()=>{document.querySelector(".close-menu").click(),this.allMessages.style.visibility="visible",this.allMessages.style.opacity="1"};closeAllMessagesBlock=()=>{this.allMessages.style.opacity="0",this.allMessages.style.visibility="hidden"};changeMicroToMessage=e=>{let t=document.querySelector(".send-text-message");if(!("deleteContentBackward"!=e.inputType&&"deleteContentForward"!=e.inputType&&"deleteByCut"!=e.inputType||""!=this.textArea.value&&t))return this.iconSendVoiceMessage.classList.remove("send-text-message"),this.iconSendVoiceMessage.classList.add("send-voice-message"),t.addEventListener("click",P),void t.removeEventListener("click",_);""==this.textArea.value&&t&&(this.iconSendVoiceMessage.classList.remove("send-text-message"),t.addEventListener("click",P),t.removeEventListener("click",_)),this.iconSendVoiceMessage.classList.add("send-text-message"),this.iconSendVoiceMessage.classList.remove("send-voice-message"),t=document.querySelector(".send-text-message"),t.addEventListener("click",_),t.removeEventListener("click",P)};showSmileMenu=()=>{this.smileMenu.style.opacity="1",this.smileMenu.style.visibility="visible",this.timer=setTimeout(this.closeMenuSmile,2e3)};closeMenuSmile=()=>{this.smileMenu.style.opacity="0",this.smileMenu.style.visibility="hidden"};listenerEmojiClick=e=>{clearTimeout(this.timer),this.textArea.value+=e.target.textContent,this.changeMicroToMessage(e),this.smileMenu.style.opacity="0",this.smileMenu.style.visibility="hidden"};listenerEmojiMouseOver=()=>{clearTimeout(this.timer)};listenerEmojiMouseOut=()=>{this.timer=setTimeout(this.closeMenuSmile,2e3)};clearChat=()=>{(async e=>{let t=y+"/clearAll";const n=await fetch(t,{headers:{"Content-Type":"application/json"},method:"DELETE"});console.log(n)})();let e=document.querySelectorAll(".msg");document.querySelector(".close-menu").click();for(const t of e)t.remove()};filterMessages=e=>{console.log(e,e.target,e.target.getAttribute("type"))};sendFile=e=>{console.log("send file"),e.preventDefault();let t=e.target,n=document.querySelector(".send-file-sticker"),i=document.querySelector(".form-btn-submit"),o=document.getElementById("write-message-input");t.classList.remove("form-send-file-loaded"),i.classList.remove("form-btn-submit-loaded"),n.classList.add("sticker-animation"),n.addEventListener("animationend",(()=>{n.style.visibility="hidden",n.classList.remove("sticker-animation"),n.textContent=""}));let a=e.srcElement[0].files[0],r=e.srcElement[0].files;if(!a)return;let s=new Blob([a]),c=URL.createObjectURL(s);o.style.display="block",(async(e,t)=>{C||await B();let n=new h(C);n.createtUlList();let i=n.createFile(e[0],t);n.createAttribute(i);let o=i.querySelector(".element-save-content");i.querySelector(".element-delete").addEventListener("click",f),o.addEventListener("click",ee),(async(e,t)=>{let n=document.querySelector(".form-send-file"),i=t[0];const o=new FormData;o.append("file_",i);let a=y+"/sendFile",r=e.getAttribute("id"),s=e.getAttribute("type"),c=e.querySelector(".element-date").textContent,l=e.querySelector(".element-time").textContent,d=e.querySelector(".element-content").textContent,m=e.querySelector(".element-content").getAttribute("href"),p=e.querySelector(".element-geolocation").textContent,u={id:r,type:s,date:c,time:l,name:d,link:m,format:t[0].type,coords:p};const g=JSON.stringify(u);o.append("data",g);const h=await fetch(a,{method:"POST",body:o});n.reset(),console.log(h)})(i,e)})(r,c)}}class ne{constructor(){}crtUlList(){let e=document.querySelector(".messages-container"),t=document.querySelector(".chat-main");e||(e=document.createElement("ul")),e.classList.add("list-msg"),t.appendChild(e)}crtMsg(e){this.crtUlList();let t=document.querySelector(".list-msg"),n=document.createElement("li"),i=document.createElement("div"),o=document.createElement("span"),a=document.createElement("span"),r=document.createElement("p"),s=document.createElement("div"),c=document.createElement("span"),l=document.createElement("span");return n.setAttribute("type","txt"),n.setAttribute("id",e.id),n.classList.add("msg"),i.classList.add("element-header"),o.classList.add("element-date"),a.classList.add("element-time"),r.classList.add("element-content"),s.classList.add("element-footer"),c.classList.add("element-geolocation"),l.classList.add("element-delete"),r.textContent=e.content,c.textContent=e.coords,o.textContent=e.date,a.textContent=e.time,i.appendChild(o),i.appendChild(a),n.appendChild(i),n.appendChild(r),s.appendChild(c),s.appendChild(l),n.appendChild(s),t.append(n),n}crteLink(e){this.crtUlList();let t=document.querySelector(".list-msg"),n=document.createElement("li"),i=document.createElement("div"),o=document.createElement("span"),a=document.createElement("span"),r=document.createElement("a"),s=document.createElement("p"),c=document.createElement("div"),l=document.createElement("span"),d=document.createElement("span");return n.setAttribute("type","link"),n.setAttribute("id",e.id),r.setAttribute("href",e.link),n.classList.add("msg"),i.classList.add("element-header"),o.classList.add("element-date"),a.classList.add("element-time"),r.classList.add("element-link"),s.classList.add("element-content"),s.classList.add("element-content-file"),c.classList.add("element-footer"),l.classList.add("element-geolocation"),d.classList.add("element-delete"),s.textContent=e.content,l.textContent=e.coords,o.textContent=e.date,a.textContent=e.time,i.appendChild(o),i.appendChild(a),n.appendChild(i),n.appendChild(r),r.appendChild(s),c.appendChild(l),c.appendChild(d),n.appendChild(c),t.append(n),n}crtFile(e){let t=new Blob([e.file.data]);console.log(t),this.crtUlList();let n=document.querySelector(".list-msg"),i=document.createElement("li"),o=document.createElement("div"),a=document.createElement("span"),r=document.createElement("span"),s=document.createElement("div"),c=document.createElement("a"),l=document.createElement("p"),d=document.createElement("div"),m=document.createElement("span"),p=document.createElement("span");return i.setAttribute("type","file"),i.setAttribute("id",e.data.id),i.classList.add("msg"),o.classList.add("element-header"),a.classList.add("element-date"),r.classList.add("element-time"),s.classList.add("element-content-container"),c.classList.add("element-content"),c.classList.add("element-content-file"),l.classList.add("element-save-content"),d.classList.add("element-footer"),m.classList.add("element-geolocation"),p.classList.add("element-delete"),c.textContent=e.data.name,a.textContent=e.data.date,r.textContent=e.data.time,m.textContent=e.data.coords,o.appendChild(a),o.appendChild(r),s.appendChild(c),s.appendChild(l),d.appendChild(m),d.appendChild(p),i.appendChild(o),i.appendChild(s),i.appendChild(d),n.append(i),i}crtVideo(e){this.crtUlList();let t=document.querySelector(".list-msg"),n=document.createElement("li"),i=document.createElement("video"),o=document.createElement("div"),a=document.createElement("span"),r=document.createElement("span"),s=document.createElement("p"),c=document.createElement("div"),l=document.createElement("span"),d=document.createElement("span");return n.setAttribute("type","video"),n.setAttribute("id",e.data.id),n.classList.add("msg"),i.classList.add("video"),i.controls=!0,o.classList.add("element-header"),a.classList.add("element-date"),r.classList.add("element-time"),s.classList.add("element-content"),c.classList.add("element-footer"),l.classList.add("element-geolocation"),d.classList.add("element-delete"),l.textContent=e.data.coords,a.textContent=e.data.date,r.textContent=e.data.time,o.appendChild(a),o.appendChild(r),n.appendChild(o),n.appendChild(i),c.appendChild(l),c.appendChild(d),n.appendChild(c),t.append(n),n}crtAudio(e){this.crtUlList();let t=document.querySelector(".list-msg"),n=document.createElement("li"),i=document.createElement("audio"),o=document.createElement("div"),a=document.createElement("span"),r=document.createElement("span"),s=document.createElement("p"),c=document.createElement("div"),l=document.createElement("span"),d=document.createElement("span");return n.setAttribute("type","audio"),n.setAttribute("id",e.data.id),n.classList.add("msg"),i.classList.add("audio"),i.controls=!0,o.classList.add("element-header"),a.classList.add("element-date"),r.classList.add("element-time"),s.classList.add("element-content"),c.classList.add("element-footer"),l.classList.add("element-geolocation"),d.classList.add("element-delete"),l.textContent=e.data.coords,a.textContent=e.data.date,r.textContent=e.data.time,o.appendChild(a),o.appendChild(r),n.appendChild(o),n.appendChild(i),c.appendChild(l),c.appendChild(d),n.appendChild(c),t.append(n),n}crtAllMsg(e){if(console.log(e),"txt"!=e.type)if("link"!=e.type){if(e.data&&"audio"==e.data.type){let t=this.crtAudio(e);return t.addEventListener("click",L),t.click(),t.removeEventListener("click",L),void t.querySelector(".element-delete").addEventListener("click",f)}if(e.data&&"video"==e.data.type){let t=this.crtVideo(e);return t.addEventListener("click",L),t.click(),t.removeEventListener("click",L),void t.querySelector(".element-delete").addEventListener("click",f)}if(e.data&&"file"==e.data.type){let t=this.crtFile(e),n=t.querySelector(".element-delete"),i=t.querySelector(".element-save-content");return t.querySelector(".element-content").addEventListener("click",x),i.addEventListener("click",x),void n.addEventListener("click",f)}}else this.crteLink(e).querySelector(".element-delete").addEventListener("click",f);else this.crtMsg(e).querySelector(".element-delete").addEventListener("click",f)}}document.addEventListener("DOMContentLoaded",(async()=>{let e=document.querySelector(".connection-to-server"),t=document.querySelector(".connection-to-server-result");await(async e=>{let t=y+"/serverAvailable";const n=await fetch(t,{headers:{"Content-Type":"application/json"},method:"GET"}).then((e=>e.json()));return console.log(n),n})().then((()=>{e.style.animation="none",e.style.backgroundColor="green",t.textContent="Соединение с сервером установлено!",document.querySelector(".no-click-element").remove()})).catch((()=>{t.textContent="Соединение с сервером не удалось установить. Пожалуйста, перезагрузите страницу!",e.style.animation="none",e.style.backgroundColor="red"}));let n=await(async e=>{let t=y+"/getAllMessages";const n=await fetch(t,{headers:{"Content-Type":"application/json"},method:"GET"}).then((e=>e.json()));return console.log(n),n})();for(const e of n.fullMessages)(new ne).crtAllMsg(e);const i=document.querySelector(".menu"),o=document.querySelector(".container-menu"),a=o.querySelector(".close-menu"),r=o.querySelector(".show-messages"),s=document.querySelector(".all-messages"),c=s.querySelector(".close-all-messages"),l=document.querySelector(".write-message"),d=document.querySelector(".send-voice-message"),m=document.querySelector(".send-video"),p=document.querySelector(".send-smile"),u=document.querySelector(".smile-container"),g=document.querySelector(".clear-chat");let h=document.getElementById("img-input"),b=document.querySelector(".form-send-file"),f=document.querySelector(".write-message-input");const v=u.querySelectorAll(".emoji");let x=document.querySelectorAll(".type-message");const L=new te(o,s,d,m,u,void 0,l);i.addEventListener("click",L.headerMenuVisible),a.addEventListener("click",L.headerMenuHidden),r.addEventListener("click",L.showAllMessagesBlock),c.addEventListener("click",L.closeAllMessagesBlock),l.addEventListener("input",L.changeMicroToMessage),l.addEventListener("keypress",_),f.addEventListener("click",(e=>{e.preventDefault(),l.focus()})),f.addEventListener("drop",E),p.addEventListener("mouseover",L.showSmileMenu);for(const e of v)e.addEventListener("click",L.listenerEmojiClick),e.addEventListener("mouseover",L.listenerEmojiMouseOver),e.addEventListener("mouseout",L.listenerEmojiMouseOut);d.addEventListener("click",P),m.addEventListener("click",G),g.addEventListener("click",L.clearChat),h.addEventListener("change",k),b.addEventListener("submit",L.sendFile),document.getElementById("img-input"),h.addEventListener("drop",E);for(const e of x)e.addEventListener("click",L.filterMessages)}))})()})();